> [0. Acerca del Grupo](../../0.md) â€º [0.8. Temas Individuales (Parte 2)](../0.8.md) â€º [0.8.4. Integrante 4](0.8.4.md)

# 0.8.4. Integrante 4

# ğŸ§ª Pruebas de RegresiÃ³n Visual  
## 1. IntroducciÃ³n

Las pruebas de regresiÃ³n visual permiten verificar que los cambios realizados en una aplicaciÃ³n no generen errores visuales inesperados.  
Consisten en comparar capturas de pantalla actuales contra una versiÃ³n previamente aprobada (baseline).  
Si aparecen diferencias no deseadas, la prueba falla.

Se utilizan para asegurar la consistencia visual en interfaces web y mÃ³viles, especialmente cuando existen cambios frecuentes de CSS, librerÃ­as o componentes.

---

## 2. Desarrollo conceptual

### Â¿QuÃ© es la regresiÃ³n visual?
La regresiÃ³n visual es una tÃ©cnica de testing que compara imÃ¡genes de la interfaz para identificar diferencias no deseadas.
El funcionamiento es simple: la herramienta toma una captura de pantalla base y la compara con una nueva captura generada despuÃ©s de un cambio. Si detecta diferencias, las marca en un diff visual.
Esto permite encontrar de forma rÃ¡pida cualquier cambio accidental en la UI.

### Â¿QuÃ© problemas detecta?
- Desalineaciones.
- Cambios de color o estilo no planificados.
- Elementos que desaparecen.
- Cambios generados por actualizaciones de librerÃ­as.
- Problemas con el layout o responsive.

### Â¿Por quÃ© es importante?
Este tipo de pruebas es importante porque garantiza la consistencia visual del proyecto.
Ayuda a detectar cambios que el ojo humano puede pasar por alto, reduce el tiempo de pruebas manuales y evita que se introduzcan errores visuales en componentes crÃ­ticos.
TambiÃ©n es muy Ãºtil en equipos grandes, donde varios desarrolladores trabajan al mismo tiempo en un mismo diseÃ±o

### Â¿CÃ³mo funciona tÃ©cnicamente?
El proceso tÃ©cnico es sencillo y estructurado. Primero, la herramienta captura una imagen de referencia, denominada baseline. Cada vez que se ejecuta la prueba, se genera una nueva captura que se compara con la imagen de referencia pÃ­xel por pÃ­xel.

Si se detectan diferencias significativas, la herramienta produce un diff visual que resalta con precisiÃ³n los cambios ocurridos. Posteriormente, corresponde al desarrollador o al equipo de QA evaluar estas diferencias y determinar si representan cambios vÃ¡lidos o si constituyen un error.

##  3. Consideraciones tÃ©cnicas generales

### âœ” Baseline  
Es la â€œcaptura aceptadaâ€ que sirve como referencia.

### âœ” Flujo general de una prueba visual
1. Abrir la aplicaciÃ³n.
2. Capturar la pantalla o componente.
3. Comparar con la baseline.
4. Detectar diferencias.
5. Aceptar o rechazar la nueva versiÃ³n.

### âœ” Zonas ignoradas
Permite ignorar secciones dinÃ¡micas:
- hora
- banners
- animaciones
- precios cambiantes

---
### 4. Herramientas mas usadas

| Herramienta                 | Tipo de Test Visual         | IntegraciÃ³n CI/CD       | Navegadores Soportados         | PrecisiÃ³n / MÃ©todo de ComparaciÃ³n        | Facilidad de Uso                    | Costo / Planes                        |
|------------------------------|----------------------------|------------------------|--------------------------------|----------------------------------------|------------------------------------|---------------------------------------|
| **BackstopJS**               | Captura de pantalla local  | SÃ­, manual o scripts  | Chrome, Firefox, IE            | ComparaciÃ³n pÃ­xel a pÃ­xel               | Media; requiere configuraciÃ³n manual | Gratuito (open source)                |
| **Percy**                    | Captura de pantalla remota | SÃ­, GitHub/GitLab/CI  | Chrome, Firefox, Safari        | ComparaciÃ³n inteligente de cambios visuales | Alta; interfaz web y dashboards       | Plan gratuito limitado; planes pagos  |
| **Applitools**               | AI Visual Testing          | SÃ­, CI/CD integrado   | Chrome, Firefox, Safari, Edge, mÃ³viles | IA para detectar cambios visuales significativos | Muy alta; mÃ­nimo mantenimiento requerido | Plan gratuito limitado; planes pagos  |
| **Playwright Visual Testing**| Captura de pantalla local  | SÃ­, scripts CI/CD     | Chrome, Firefox, Safari, Edge | ComparaciÃ³n pÃ­xel a pÃ­xel + tolerancia configurable | Media-Alta; integrado con Playwright | Gratuito (con Playwright)             |

## 5. Herramienta usada en la demo

### âœ” **Playwright**
Automatiza navegadores (Chrome, Firefox, Safari).

### âœ” **Applitools Eyes**
Usa IA para comparar capturas visuales de forma inteligente.

---

##  6. Requisitos para ejecutar la demo

###  InstalaciÃ³n

```bash
npm install @playwright/test
npm install @applitools/eyes-playwright
npm install dotenv
```

### Instalar navegadores:

```bash
npx playwright install
```

### ConfiguraciÃ³n del API Key

Crear el archivo: .env
Y agregar:

```bash
APPLITOOLS_API_KEY=TU_API_KEY_AQUI
```
### 7. Demo

```bash
src/
 â”œâ”€â”€assets/
 â”œâ”€â”€ App.jsx
 â”œâ”€â”€ App.css
 â”œâ”€â”€ index.css
 â”œâ”€â”€ main.jsx
public/
 â”œâ”€â”€ vite.svg
 â”œâ”€â”€ imagen-laptop.jpg
 â”œâ”€â”€ imagen-laptop2.jpg
 tests/
 â””â”€â”€ visual.spec.js
```

### a.  Iniciar la aplicaciÃ³n 
```bash
npm run dev 
```
### b. Correr la prueba visual 
```bash
npx playwright test 
```
### c. Abrir reporte 
```
npx playwright show-report
```
### 8. Ventajas y desventajas

- Ventajas:
    - Detecta errores visuales complejos.

    - FÃ¡cil de integrar con CI/CD.

    - ComparaciÃ³n basada en IA.

    - Reduce pruebas manuales.

- Desventajas:

   - Requiere baseline inicial.

   - Cambios vÃ¡lidos deben aprobarse manualmente.

   - Animaciones pueden causar falsos positivos si no se configuran.


### 9. Buenas prÃ¡cticas

- Crear capturas por componente (no solo pantallas completas).

- Ignorar zonas dinÃ¡micas.

- Revisar cambios antes de aprobar una nueva baseline.

- Automatizar en CI/CD.

### 10. Conclusiones

Las pruebas de regresiÃ³n visual son fundamentales para asegurar que una interfaz mantenga su calidad a lo largo del tiempo.
Con herramientas como Playwright + Applitools, es posible detectar diferencias visuales incluso imperceptibles para el ojo humano, logrando un proceso de desarrollo mÃ¡s seguro, estable y profesional.

### 11. Video
[Mi video en YouTube](https://www.youtube.com/watch?v=oucQrq92ZG4)

---

[â¬…ï¸ Anterior](../0.8.3/0.8.3.md) | [ğŸ  Home](../../../README.md) | [Siguiente â¡ï¸](../0.8.5/0.8.5.md)