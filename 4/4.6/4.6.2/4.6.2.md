> [4. Decisiones Iniciales de Arquitectura](../../4.md) ‚Ä∫ [4.6. Listado Consolidado](../4.6.md) ‚Ä∫ [4.6.2. Modelo de Coordinaci√≥n](4.6.2.md)

# 4.6.2. Modelo de Coordinaci√≥n

## Modulo 1: **Servicios de Salud**

| Campo | Descripci√≥n |
|---|---|
| **T√≠tulo** | **H√≠brido s√≠ncrono/as√≠ncrono con patr√≥n Outbox** |
| **Contexto** | Las operaciones cr√≠ticas (reservar cita, registrar atenci√≥n, validar stock) deben responder en tiempo real. Otras, como notificaciones o logs, pueden procesarse luego. |
| **Alternativas** | - **S√≠ncrono total:** Todos los servicios esperan respuesta inmediata.<br>- **As√≠ncrono total:** Los servicios no esperan respuesta.<br>- **H√≠brido:** S√≠ncrono para operaciones cr√≠ticas y as√≠ncrono para tareas secundarias. |
| **Criterios de elecci√≥n** | Rapidez en la experiencia de usuario, resiliencia ante fallos parciales, trazabilidad y simplicidad de mantenimiento. |
| **Decisi√≥n** | **H√≠brido:** REST s√≠ncrono para rutas cr√≠ticas y colas/eventos as√≠ncronos (RabbitMQ o Kafka) para tareas no cr√≠ticas. |
| **Sustento** | Mantiene baja latencia en las operaciones principales y permite escalar tareas secundarias sin afectar la experiencia del usuario. |
---
## Modulo 2: **Compras**

| Campo | Descripci√≥n |
|---|---|
| **T√≠tulo** | H√≠brido: s√≠ncrono para operaciones cr√≠ticas, as√≠ncrono para notificaciones e importaciones |
| **Contexto** | Crear/editar/aprobar OC debe responder en l√≠nea; env√≠o de correos, acuses y cargas masivas toleran latencia. |
| **Alternativas** | 1) S√≠ncrono total; 2) As√≠ncrono total; 3) **H√≠brido** (REST s√≠ncrono + cola para tareas no cr√≠ticas). |
| **Criterios de elecci√≥n** | Tiempo de respuesta percibido, resiliencia ante fallos, complejidad operativa. |
| **Decisi√≥n** | **REST** para CRUD y validaciones; **mensajer√≠a** para emails/acuse e importaci√≥n CSV (previsualizaci√≥n + proceso en background). |
| **Sustento** | Mantiene UX √°gil y permite continuar ante fallas de servicios externos con reintentos. |

---
## Modulo 3: **Gesti√≥n de Usuarios y Seguridad**

| Campo | Descripci√≥n |
| ------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **T√≠tulo**                           | Coordinaci√≥n de Servicios mediante Comunicaci√≥n S√≠ncrona y As√≠ncrona |
| **Contexto**                         | Las comprobaciones de autorizaci√≥n deben ser inmediatas; tareas como env√≠o de correos o replicaci√≥n de logs pueden procesarse despu√©s. |
| **Alternativas**                     | - **S√≠ncrono total:** Todos los servicios se comunican directamente y esperan respuesta inmediata antes de continuar.<br>- **As√≠ncrono total:** Los servicios no esperan respuesta; env√≠an mensajes o notificaciones que otros procesan m√°s adelante.<br>- **H√≠brido:** Las operaciones del acceso al sistema se realizan al instante, mientras que las tareas secundarias se procesan despu√©s, sin afectar la experiencia del usuario. |
| **Criterios de elecci√≥n**            | Se busca que la comunicaci√≥n entre servicios permita respuestas r√°pidas en los inicios de sesi√≥n, mantenga el funcionamiento del sistema incluso ante fallos parciales, y sea sencilla de implementar y mantener por el equipo t√©cnico. |
| **Decisi√≥n**                         | Adoptar **modelo h√≠brido** (s√≠ncrono para autenticaci√≥n y as√≠ncrono para trabajos secundarios).  |
| **Sustento**                         | Respuesta r√°pida en la ruta cr√≠tica (login/permiso) y desacople de tareas no cr√≠ticas (emails, replicaci√≥n), mejorando resiliencia sin complejidad excesiva.  |

---
## Modulo 4: **Inventario M√©dico**
| Campo | Descripci√≥n |
|--------|-------------|
| **T√≠tulo** | Coordinaci√≥n h√≠brida sincr√≥nica/as√≠ncrona |
| **Contexto** | Las operaciones cr√≠ticas como actualizar stock requieren consistencia inmediata. Las notificaciones y auditor√≠a son tareas posteriores. |
| **Alternativas** | A1: Comunicaci√≥n 100% sincr√≥nica.<br>A2: As√≠ncrona por eventos.<br>A3: Modelo h√≠brido. |
| **Criterios de Elecci√≥n** | Rendimiento, consistencia, disponibilidad ante fallos externos. |
| **Decisi√≥n** | Se adopta modelo h√≠brido: REST sincr√≥nico para stock cr√≠tico y eventos as√≠ncronos RabbitMQ para alertas/logs. |
| **Sustento** | Minimiza latencia del usuario sin sacrificar integridad ni trazabilidad del inventario. |
---

[‚¨ÖÔ∏è Anterior](../4.6.1/4.6.1.md) | [üè† Home](../../../README.md) | [Siguiente ‚û°Ô∏è](../4.6.3/4.6.3.md)