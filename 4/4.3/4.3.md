> [4. Decisiones Iniciales de Arquitectura](../4.md) ‚Ä∫ [4.3. M√≥dulo 3 / Integrante 3](4.3.md)

# 4.3. M√≥dulo 3 / Integrante 3

## **Decisi√≥n 1:** Asignaci√≥n de Responsabilidades

| Campo  | Descripci√≥n   |
| ------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **T√≠tulo**                           | Modelo Centralizado de Gesti√≥n de Usuarios y Accesos |
| **Contexto**                         | El m√≥dulo 3 gestiona usuarios internos y externos y requiere autenticaci√≥n, roles, auditor√≠a y trazabilidad. Equipo peque√±o; necesidad de coherencia entre m√≥dulos.                      |
| **Alternativas**                     | - **Centralizado:** Un √∫nico servicio de identidad (usuarios, login, roles, tokens).  **Distribuido:** Cada m√≥dulo mantiene su propio control de usuarios y permisos. |
| **Criterios de elecci√≥n**  | Se prioriz√≥ contar con una soluci√≥n que garantice seguridad en los accesos, mantenga consistencia y control centralizado de los usuarios, facilite la administraci√≥n de actividades dentro del sistema y reduzca la carga de mantenimiento para el equipo de desarrollo.                     |
| **Decisi√≥n**                         | Adoptar un servicio **centralizado**. |
| **Sustento**  | Evita duplicaci√≥n de l√≥gica y facilita la administraci√≥n y el control de accesos.                       |

## **Decisi√≥n 2:** Modelo de Coordinaci√≥n

| Campo | Descripci√≥n |
| ------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **T√≠tulo**                           | Coordinaci√≥n de Servicios mediante Comunicaci√≥n S√≠ncrona y As√≠ncrona |
| **Contexto**                         | Las comprobaciones de autorizaci√≥n deben ser inmediatas; tareas como env√≠o de correos o replicaci√≥n de logs pueden procesarse despu√©s. |
| **Alternativas**                     | - **S√≠ncrono total:** Todos los servicios se comunican directamente y esperan respuesta inmediata antes de continuar.<br>- **As√≠ncrono total:** Los servicios no esperan respuesta; env√≠an mensajes o notificaciones que otros procesan m√°s adelante.<br>- **H√≠brido:** Las operaciones del acceso al sistema se realizan al instante, mientras que las tareas secundarias se procesan despu√©s, sin afectar la experiencia del usuario. |
| **Criterios de elecci√≥n**            | Se busca que la comunicaci√≥n entre servicios permita respuestas r√°pidas en los inicios de sesi√≥n, mantenga el funcionamiento del sistema incluso ante fallos parciales, y sea sencilla de implementar y mantener por el equipo t√©cnico. |
| **Decisi√≥n**                         | Adoptar **modelo h√≠brido** (s√≠ncrono para autenticaci√≥n y as√≠ncrono para trabajos secundarios).  |
| **Sustento**                         | Respuesta r√°pida en la ruta cr√≠tica (login/permiso) y desacople de tareas no cr√≠ticas (emails, replicaci√≥n), mejorando resiliencia sin complejidad excesiva.  |


## **Decisi√≥n 3:** Modelo de Datos
| Campo | Descripci√≥n  |
| ------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **T√≠tulo**                           | Modelo de Datos Relacional con Campos Flexibles  |
| **Contexto**                         |El sistema necesita mantener la coherencia y seguridad de los datos al crear usuarios, asignar roles o registrar permisos. Adem√°s, se requiere cierta flexibilidad para almacenar informaci√≥n de pacientes que puede variar seg√∫n la cl√≠nica, sin tener que cambiar la estructura de la base de datos cada vez.  |
| **Alternativas**                     | - **Relacional (Postgres):** Mantiene los datos organizados en tablas con relaciones claras .<br>- **Documental (MongoDB):** Guarda la informaci√≥n en documentos m√°s flexibles, lo que facilita agregar nuevos campos, pero dificulta manejar relaciones entre distintos tipos de datos.<br>- **Modelo mixto** Combina ambos tipos de bases para aprovechar sus ventajas, aunque aumenta la complejidad de administraci√≥n y mantenimiento.. |
| **Criterios de elecci√≥n**            |   - Mantener los datos consistentes y seguros en operaciones cr√≠ticas. <br>- Permitir flexibilidad para agregar o modificar campos sin complicaciones. <br>- Ajustarse a las habilidades actuales del equipo de desarrollo. |   |
 |
| **Decisi√≥n**  | Usar **PostgreSQL** como BD principal y **JSONB** para metadatos/atributos extensibles.   |
| **Sustento** | PostgreSQL asegura que todas las operaciones de usuarios y roles se registren de forma confiable y consistente, lo que es esencial para el control de accesos y la administraci√≥n. Adem√°s, su capacidad para manejar campos flexibles con JSONB permite adaptar la informaci√≥n de pacientes sin necesidad de modificar la estructura de la base de datos con frecuencia. |

## **Decisi√≥n 4:** Mapeo entre elementos de Arquitectura

| **Campo** | **Descripci√≥n** |
|------------|-----------------|
| **T√≠tulo** | Adopci√≥n de Arquitectura por Capas |
| **Contexto** | El ERP cl√≠nico requiere una base estable para  encargarse de manejar usuarios, roles. El equipo es peque√±o, el tiempo de entrega corto y el volumen inicial de usuarios moderado, por lo que se necesita una arquitectura sencilla, segura y mantenible. |
| **Alternativas** | - **Monolito por capas:** Una sola aplicaci√≥n organizada en capas (Presentaci√≥n, L√≥gica, Datos).<br>- **Microservicios:** Servicios independientes por dominio, con mayor complejidad operativa. |
| **Criterios de elecci√≥n** | Rapidez de desarrollo, facilidad de mantenimiento, bajo costo operativo, seguridad y posibilidad de escalar en el futuro. |
| **Decisi√≥n** | Adoptar **arquitectura por Capas** para el desarrollo inicial del m√≥dulo. |
| **Sustento** | Permite un desarrollo r√°pido y ordenado con bajo esfuerzo operativo. La separaci√≥n por capas facilita mantenimiento y seguridad, y en el futuro puede evolucionar hacia un modelo modular o distribuido sin rehacer el sistema. |

## **Decisi√≥n 5:** Elecci√≥n de Tecnolog√≠a

| Campo  | Descripci√≥n  |
| ------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **T√≠tulo**                           |Elecci√≥n del Lenguaje y Entorno de Desarrollo |
| **Contexto**                         | El equipo de desarrollo cuenta con experiencia mixta en lenguajes web y necesita un entorno que permita desarrollo r√°pido, mantenimiento sencillo y soporte s√≥lido para autenticaci√≥n. Adem√°s, se busca una buena integraci√≥n con el frontend y tecnolog√≠as comunes.                              |
| **Alternativas**                     | - **TypeScript (NestJS):** r√°pido, moderno y con buena integraci√≥n con frontend<br>- **Java/Kotlin (Spring):** robusto y seguro, pero m√°s complejo de configurar..<br>- **Python:**  √°gil y f√°cil de usar, aunque con menor rendimiento en sistemas grandes.   |
| **Criterios de elecci√≥n**            | Se busca un entorno que permita desarrollo r√°pido, con buen nivel de seguridad e integraci√≥n de autenticaci√≥n. Adem√°s, debe facilitar el trabajo conjunto con el frontend, mantener bajos costos operativos y ser f√°cil de mantener por el equipo actual.|
| **Decisi√≥n**                         | Adoptar **TypeScript** (preferiblemente con **NestJS**)  |
| **Sustento**                         | TypeScript ofrece un lenguaje moderno y claro que permite compartir estructuras de datos con el frontend, acelerando el desarrollo. NestJS aporta organizaci√≥n por m√≥dulos y facilidad para mantener el c√≥digo.|


---

[‚¨ÖÔ∏è Anterior](../4.2/4.2.md) | [üè† Home](../../README.md) | [Siguiente ‚û°Ô∏è](../4.4/4.4.md)