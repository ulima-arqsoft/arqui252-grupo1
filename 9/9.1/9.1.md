> [9. Metodolog√≠a de Dise√±o de Arquitectura - Aplicaci√≥n de ADD](../9.md) ‚Ä∫ [9.1. Revisi√≥n de Entradas](9.1.md)

# 9.1. Revisi√≥n de Entradas

## Funcionalidades primarias (Casos de Uso)

A continuaci√≥n se presentan los casos de uso del ERP cl√≠nico. La tabla detalla las funcionalidades principales. Cada caso de uso incluye un ID √∫nico, el m√≥dulo al que pertenece, el nombre de la funcionalidad y la historia de usuario que describe el objetivo y beneficio para el usuario final.

| ID   | M√≥dulo                          | Nombre                              | Historia de Usuario                                                                                                                             |
| ---- | ------------------------------- | ----------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------- |
| CU01 | Gesti√≥n de Usuarios y Seguridad | Registro de Pacientes               | Como usuario, quiero registrarme en el sistema con mi informaci√≥n personal para poder acceder al portal de pacientes.                           |
| CU02 | Gesti√≥n de Usuarios y Seguridad | Control de Inicio de Sesi√≥n Externo | Como usuario, quiero iniciar sesi√≥n con mi correo y contrase√±a para ingresar de manera segura.                                                  |
| CU03 | Gesti√≥n de Usuarios y Seguridad | Recuperaci√≥n de Contrase√±a          | Como usuario, quiero recuperar o restablecer mi contrase√±a de manera segura en caso de olvido.                                                  |
| CU04 | Gesti√≥n de Usuarios y Seguridad | Autenticaci√≥n Segura                | Como sistema, quiero verificar las credenciales mediante mecanismos seguros, para proteger la informaci√≥n cl√≠nica y personal.                   |
| CU05 | Gesti√≥n de Usuarios y Seguridad | Pol√≠ticas de Contrase√±as            | Como administrador, quiero definir reglas de complejidad de contrase√±as, para aumentar la seguridad del portal.                                 |
| CU06 | Gesti√≥n de Usuarios y Seguridad | Gesti√≥n de Perfil de Paciente       | Como usuario, quiero actualizar mis datos personales, para mantener mi informaci√≥n actualizada en el sistema.                                   |
| CU07 | Gesti√≥n de Usuarios y Seguridad | Cierre de Sesi√≥n                    | Como usuario, quiero cerrar sesi√≥n manualmente para reducir riesgos de accesos indebidos a mi cuenta.                                           |
| CU08 | Gesti√≥n de Usuarios y Seguridad | Administraci√≥n de Roles             | Como administrador, quiero crear y gestionar roles internos (Administrador, M√©dico, Enfermero, Compras) para asignar accesos adecuados.         |
| CU09 | Gesti√≥n de Usuarios y Seguridad | Asignaci√≥n de Permisos              | Como administrador, quiero definir permisos espec√≠ficos por rol, para evitar accesos no autorizados a informaci√≥n sensible.                     |
| CU10 | Gesti√≥n de Usuarios y Seguridad | Registro de Usuarios Internos       | Como administrador, quiero registrar nuevos usuarios internos en el sistema con su n√∫mero de empleado y credenciales institucionales.           |
| CU11 | Gesti√≥n de Usuarios y Seguridad | Control de Inicio de Sesi√≥n Interno | Como usuario interno, quiero iniciar sesi√≥n con credenciales institucionales, para acceder al ERP de forma segura.                              |
| CU12 | Gesti√≥n de Usuarios y Seguridad | Gesti√≥n de Sesiones Internas        | Como administrador, quiero monitorear sesiones activas de empleados, para mantener el control de accesos en tiempo real.                        |
| CU13 | Gesti√≥n de Usuarios y Seguridad | Registro de Accesos Internos        | Como administrador, quiero consultar un historial de accesos de usuarios internos, para verificar el uso del sistema y posibles incidencias.    |
| CU14 | Gesti√≥n de Usuarios y Seguridad | Autenticaci√≥n con Google            | Como usuario externo, quiero poder iniciar sesi√≥n utilizando mi cuenta de Google para acceder de manera r√°pida y segura al portal de pacientes. |


## Escenarios de atributos de calidad

A continuaci√≥n se presentan los escenarios de calidad y prueba del sistema del ERP cl√≠nico. Cada fila describe un escenario que puede afectar la funcionalidad o el desempe√±o del sistema, indicando el atributo de calidad asociado (usabilidad, rendimiento, seguridad, etc.), la fuente y tipo de est√≠mulo, el artefacto tecnol√≥gico involucrado, el entorno de operaci√≥n, la respuesta esperada del sistema, y la medida de respuesta para evaluar su cumplimiento.

| ID     | Atributo de Calidad         | Fuente Est√≠mulo                              | Est√≠mulo                                                              | Artefacto Tecnol√≥gico                                            | Entorno                    | Respuesta del Sistema                                                     | Medida de Respuesta                                          | Casos de uso relacionados |
| ------ | --------------------------- | -------------------------------------------- | --------------------------------------------------------------------- | ---------------------------------------------------------------- | -------------------------- | ------------------------------------------------------------------------- | ------------------------------------------------------------ | ------------------------- |
| ESC-01 | Disponibilidad              | Sistema de Autenticaci√≥n / Infraestructura   | Falla del servicio de autenticaci√≥n o ca√≠da del servidor principal    | M√≥dulo de Gesti√≥n de Usuarios y Seguridad / Servidor principal   | En operaci√≥n normal        | Redirecci√≥n autom√°tica a servidor redundante o autenticaci√≥n de respaldo  | Recuperaci√≥n en ‚â§10 segundos sin p√©rdida de sesi√≥n           | CU08, CU09, CU10          |
| ESC-02 | Rendimiento                 | Usuario concurrente interno y externo        | M√∫ltiples usuarios intentan acceder a una secci√≥n simult√°neamente     | Backend de M√≥dulo de Gesti√≥n de Usuarios y Seguridad / consultas | Carga alta (‚â•100 usuarios) | Procesamiento concurrente y consultas optimizadas                         | Respuesta <2 segundos en 95% de los casos                    | CU08, CU09, CU10          |
| ESC-03 | Usabilidad                  | Usuario final                                | Usuario olvida su contrase√±a o introduce datos err√≥neos               | Interfaz de M√≥dulo Gesti√≥n de Usuarios y Seguridad               | En l√≠nea                   | Gu√≠a paso a paso para restablecer credenciales                            | Recuperaci√≥n exitosa del 95% de usuarios sin soporte t√©cnico | CU09, CU12                |
| ESC-04 | Seguridad                   | QA / Equipo de Desarrollo                    | Validaci√≥n de cambios en pol√≠ticas de contrase√±as                     | M√≥dulo de Gesti√≥n de Usuarios y Seguridad                        | Entorno de pruebas         | Ejecuci√≥n automatizada de pruebas unitarias                               | 100% de casos cr√≠ticos cubiertos en suite automatizada       | CU11                      |
| ESC-05 | Integridad / Usabilidad     | Usuario administrativo                       | Importar lista masiva de √≠tems a una OC desde CSV                     | M√≥dulo de √≥rdenes de compra                                      | En operaci√≥n normal        | Validaci√≥n del esquema y previsualizaci√≥n antes de confirmar              | 100% de validaciones previas antes de inserci√≥n              |                           |
| ESC-06 | Usabilidad                  | Usuario final (cl√≠nico, compras, inventario) | Revisi√≥n o registro de elementos (citas, √≥rdenes, inventario, agenda) | Interfaces CRUD y m√≥dulos de b√∫squeda                            | En operaci√≥n normal        | Filtros r√°pidos, vistas guardadas, validaciones guiadas                   | 90% de operaciones completadas sin error en primer intento   |                           |
| ESC-07 | Resiliencia                 | Usuario / Sistema                            | Falla del servidor durante el registro de una cita                    | M√≥dulo de agenda / base de datos                                 | Durante transacci√≥n activa | Guarda temporalmente la informaci√≥n y reintenta al recuperar conexi√≥n     | Reintento exitoso en ‚â§30 segundos tras recuperaci√≥n          |                           |
| ESC-08 | Seguridad / Integridad      | Usuario malicioso                            | Intento de acceso no autorizado a informaci√≥n cl√≠nica                 | M√≥dulo de Gesti√≥n de Usuarios y Seguridad                        | En l√≠nea                   | Bloqueo de acceso, registro en log de seguridad y alerta al administrador | Detecci√≥n y bloqueo inmediato (<1 seg)                       | CU08, CU09, CU10          |
| ESC-09 | Usabilidad / Eficiencia     | Usuario cl√≠nico / recepcionista              | Dificultad del usuario al registrar una cita o atenci√≥n               | Interfaz de agenda                                               | En operaci√≥n normal        | Interfaz guiada con validaciones autom√°ticas y mensajes claros            | 90% de operaciones completadas sin error                     |                           |
| ESC-10 | Rendimiento / Usabilidad    | Usuario cl√≠nico                              | Usuario busca medicamento por nombre                                  | M√≥dulo de inventario                                             | En operaci√≥n normal        | Interfaz con b√∫squeda y filtros incrementales                             | Resultados <2 segundos para b√∫squedas comunes                |                           |
| ESC-11 | Seguridad / Control         | Usuario sin permisos / sistema de seguridad  | Intento de modificar stock sin permisos                               | M√≥dulo de inventario y seguridad (RBAC)                          | En operaci√≥n normal        | Bloqueo de acceso y registro del intento en logs                          | 100% de intentos registrados y bloqueados                    |                           |
| ESC-12 | Mantenibilidad / Eficiencia | Equipo de mantenimiento                      | Configurar nuevas alertas de stock                                    | M√≥dulo de inventario                                             | Entorno de configuraci√≥n   | Modificaci√≥n sin afectar otros m√≥dulos                                    | Cambios desplegados sin fallos en integraci√≥n                |                           |
| ESC-13 | Integridad / Disponibilidad | Sistema externo (M√≥dulo de Compras)          | Integraci√≥n con m√≥dulo de compras                                     | API de stock e inventario                                        | En operaci√≥n normal        | Actualiza stock autom√°ticamente mediante API-REST                         | Sin errores de sincronizaci√≥n en 99% de las transacciones    |                           |
| ESC-14 | Usabilidad / Seguridad      | Usuario externo                              | Usuario intenta iniciar sesi√≥n con Google                             | M√≥dulo de Gesti√≥n de Usuarios y Seguridad / OAuth Google         | Producci√≥n                 | Redirecci√≥n al flujo de autenticaci√≥n de Google y validaci√≥n de token     | Inicio de sesi√≥n exitoso ‚â§3 segundos sin p√©rdida de sesi√≥n   | CU14                      |

## Restricciones

A continuaci√≥n se presentan las restricciones, estas reflejan decisiones de dise√±o y limitaciones tecnol√≥gicas que deben cumplirse, asegurando coherencia arquitect√≥nica.

| ID    | Nombre / Restricci√≥n                                       | Descripci√≥n                                                                                                                                                   |
| ----- | ---------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| RES01 | Stack Tecnol√≥gico Fijo                                     | El frontend del m√≥dulo se desarrollar√° en React y el backend en Node.js con Express.js.                                                                       |
| RES02 | Arquitectura por Capas                                     | El m√≥dulo debe implementarse siguiendo una arquitectura por capas dentro de un monolito modular: Presentaci√≥n, Aplicaci√≥n, Dominio e Infraestructura.         |
| RES03 | Multi-Tier / Separaci√≥n F√≠sica                             | La implementaci√≥n ser√° Multi-Tier: presentaci√≥n, aplicaci√≥n y datos en nodos separados para mayor seguridad y disponibilidad.                                 |
| RES04 | Seguridad de Credenciales                                  | Las credenciales se gestionar√°n en capas separadas y el backend verificar√° tokens JWT de Google antes de otorgar acceso.                                                                                                         |
| RES05 | Registro de Logs                                           | Todas las operaciones cr√≠ticas (login, logout, cambios de perfil) deber√°n registrarse en logs para auditor√≠a y monitoreo.                                     |

## Preocupaciones a Nivel de Arquitectura

En esta secci√≥n se presentan las principales preocupaciones de arquitectura, estas preocupaciones reflejan los atributos de calidad cr√≠ticos que deben garantizarse durante el dise√±o e implementaci√≥n, cada preocupaci√≥n identifica riesgos o aspectos clave que impactan directamente en la arquitectura y funcionamiento del sistema.


| ID    | Nombre                           | Descripci√≥n                                                                                                                                      | M√≥dulo / Artefacto Tecnol√≥gico                                |
| ----- | -------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------- |
| CRN01 | Escalabilidad de Autenticaci√≥n   | Garantizar que el sistema pueda manejar m√∫ltiples usuarios internos y externos iniciando sesi√≥n simult√°neamente sin degradaci√≥n del rendimiento. | Gesti√≥n de Usuarios y Seguridad / Backend de autenticaci√≥n    |
| CRN02 | Consistencia de Roles y Permisos | Mantener la consistencia de roles, permisos y accesos entre usuarios internos y externos, evitando asignaciones err√≥neas o duplicadas.           | Gesti√≥n de Usuarios y Seguridad / Base de datos de usuarios   |
| CRN03 | Seguridad de Credenciales        | Proteger contrase√±as locales y tokens de autenticaci√≥n; validar tokens JWT de Google Identity para usuarios externos.                            | Gesti√≥n de Usuarios y Seguridad / Backend y Auth0/Google OIDC |
| CRN04 | Registro y Auditor√≠a de Sesiones | Registrar eventos de login, logout, cambios de perfil y sesiones activas para auditor√≠a y monitoreo.                                             | Gesti√≥n de Usuarios y Seguridad / Logs del sistema            |
| CRN05 | Tolerancia a Fallos en Login     | Mantener disponibilidad del servicio de autenticaci√≥n ante ca√≠das de servidores, mediante redundancia o failover.                                | Gesti√≥n de Usuarios y Seguridad / Servidores de autenticaci√≥n |





---

[üè† Home](../../README.md) | [Siguiente ‚û°Ô∏è](../9.2/9.2.md)